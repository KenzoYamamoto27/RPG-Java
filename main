import java.util.Scanner;
public class Main {

    public static void main(String[] args) {
        Scanner scan = new Scanner(System.in);
        int genero;
        int escolhaRaca;
        String raca = "";
        int escolhaClasse;
        String classe = "";
        String nome = "";


        Dialogo.introducao();

        
        while (true) {
            printLento("\nQual genero?\n" +
                    "[1]Masculino\n" +
                    "[2]Feminino\n", 20);
            System.out.println(" ");
            if (!scan.hasNextInt()) {
                System.out.println("Entrada inválida. Tente novamente.\n");
                scan.next();
                continue;
            }
            genero = scan.nextInt();

            switch (genero) {
                case 1:
                    printLento("Então você é macho.\n", 10);
                    break;
                case 2:
                    printLento("Seja bem vinda, bela dama.\n", 10);
                    break;
                default:
                    printLento("Escolha uma opção válida.\n", 10);
                    continue;
            }
            break;
        }

        while (true) {
            printLento("\nQual raça você pertence?\n" +
                    "[1]Humano\n" +
                    "[2]Orc\n" +
                    "[3]Elfo\n" +
                    "[4]Anão\n",20);
            System.out.println(" ");

            if (!scan.hasNextInt()) {
                printLento("Entrada inválida. Tente novamente.\n", 10);
                scan.next();
                continue;
            }
            escolhaRaca = scan.nextInt();

            switch (escolhaRaca) {
                case 1:
                    printLento("Faz anos que não vejo um de vocês.\n", 10);
                    raca = "Humano";
                    break;
                case 2:
                    printLento("Temos um dos grandes aqui.\n", 10);
                    raca = "Orc";
                    break;
                case 3:
                    printLento("Espero que minha espelunca não o(a) incomode.\n",10);
                    raca = "Elfo";
                    break;
                case 4:
                    printLento("Ah! Você é um dos meus.\n",10);
                    raca = "Anão";
                    break;
                default:
                    printLento("Escolha uma opção válida.\n", 10);
                    continue;
            }
            break;
        }

        while (true) {
            printLento("\nQual sua especialidade?\n" +
                    "[1]Guerreiro\n" +
                    "[2]Ladino\n" +
                    "[3]Mago\n" +
                    "[4]Arqueiro\n", 30);

            System.out.println(" ");
            if (!scan.hasNextInt()) {
                System.out.println("Entrada inválida. Tente novamente.\n");
                scan.next();
                continue;
            }
            escolhaClasse = scan.nextInt();

            switch (escolhaClasse) {
                case 1:
                    printLento("Contaremos com você.\n", 10);
                    classe = "Guerreiro";
                    break;
                case 2:
                    printLento("Fique longe da minha carteira.\n", 10);
                    classe = "Ladino";
                    break;
                case 3:
                    printLento("FIRE BALL!\n", 10);
                    classe = "Mago";
                    break;
                case 4:
                    printLento("Só não erre a mira\n", 10);
                    classe = "Arqueiro";
                    break;
                default:
                    printLento("Escolha uma opção válida.\n", 10);
                    continue;
            }
            break;
        }

        printLento("\nEu já ia me esquecendo, qual é o seu nome?", 15);
        System.out.println(" ");
        scan.nextLine();
        nome = scan.nextLine();

        Personagem p1 = new Personagem(nome, raca, classe);
        p1.aplicarBonus();
        p1.exibirStatus();

        Dialogo.missao(p1);
        
        Dialogo.despedida(p1);
    }


    public static void printLento(String texto, long delayMillis) {
        for (char c : texto.toCharArray()) {
            System.out.print(c);
            System.out.flush(); // força a impressão imediata
            try {
                Thread.sleep(delayMillis);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }

}
